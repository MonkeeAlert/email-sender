(this["webpackJsonpemail-sender"]=this["webpackJsonpemail-sender"]||[]).push([[0],{15:function(e,t,a){e.exports=a.p+"static/media/clip.86d1bbc5.svg"},17:function(e,t,a){e.exports=a(30)},29:function(e,t,a){},30:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(5),i=a.n(r),l=a(9),o=a.n(l),m=a(13),s=a(16),u=a(3),f=a(2),p=function(e){var t=Object(n.useState)(e.value),a=Object(u.a)(t,2),r=a[0],i=a[1],l=Object(n.useState)(!1),o=Object(u.a)(l,2),m=o[0],s=o[1],p=Object(f.b)();return c.a.createElement("label",{htmlFor:e.id,className:"form__label"},c.a.createElement("input",{id:e.id,name:e.id,type:e.type,value:r,className:"form__input ".concat(m?"form__input--active":""," ").concat(""!==r?"form__input--not-empty":""),onFocus:function(e){return s(!1)},onBlur:function(e){return s(!1)},onChange:function(t){return function(t){p(e.action(t.target.value)),i(t.target.value)}(t)}}),c.a.createElement("span",{className:"form__input-placeholder"},e.placeholder),c.a.createElement("span",{className:"form__input-border"}))},E=function(e){var t=Object(n.useState)(e.value),a=Object(u.a)(t,2),r=a[0],i=a[1],l=Object(n.useState)(!1),o=Object(u.a)(l,2),m=o[0],s=o[1],p=Object(f.b)();return c.a.createElement("label",{htmlFor:e.id,className:"form__label"},c.a.createElement("textarea",{id:e.id,name:e.id,className:"form__textarea ".concat(m?"form__textarea--active":""," ").concat(""!==r?"form__textarea--not-empty":""),onFocus:function(e){return s(!1)},onBlur:function(e){return s(!1)},onChange:function(t){return function(t){p(e.action(t.target.value)),i(t.target.value)}(t)},rows:"8"}),c.a.createElement("span",{className:"form__textarea-placeholder"},e.placeholder),c.a.createElement("span",{className:"form__textarea-border"}))},_=a(15),d=a.n(_),b=function(e){var t=e.formats.join(","),a=Object(n.useState)(e.value),r=Object(u.a)(a,2),i=r[0],l=r[1],o=Object(n.useState)(""),m=Object(u.a)(o,2),s=m[0],p=m[1],E=e.maxSize*Math.pow(1024,2),_=e.maxCount,b=Object(f.b)();return c.a.createElement("div",null,c.a.createElement("label",{className:"form__label--file"},c.a.createElement("input",{id:"file",name:"file",type:"file",className:"form__file","data-max-size":E,"data-max-count":_,accept:t,multiple:!0,onChange:function(t){return function(t){var a=!1,n=[].map.call(t.target.files,(function(e){return{name:e.name,size:e.size,type:e.type}}));n.length>_&&(a=!0,p("Max amount of files is ".concat(_))),n.forEach((function(t){t.size>E&&(a=!0,p("File ".concat(t.name.slice(0,10)+"..."," is larger ").concat(e.maxSize,"mb")))})),a||(p(),b(e.action(n)),l(n))}(t)}}),c.a.createElement("img",{src:d.a,alt:"clip",className:"form__file-img"}),c.a.createElement("span",{className:"form__file-text"},i.length>0?"".concat(i.length," file(s)"):"Attach file")),i.length>0?c.a.createElement("span",{className:"form__file-clear",onClick:function(t){document.getElementById("file").value="",b(e.action([])),l([])}},"\xd7"):"",s?c.a.createElement("span",{className:"form__file-error"},s):"")},h=function(e){return c.a.createElement("input",{id:"submit",name:"submit",type:"submit",className:"form__submit",value:e.value})},j=function(e){return{type:"SET_SENDER_NAME",payload:e}},O=function(e){return{type:"SET_SENDER_EMAIL",payload:e}},N=function(e){return{type:"SET_RECIPICIENT_NAME",payload:e}},S=function(e){return{type:"SET_RECIPICIENT_EMAIL",payload:e}},v=function(e){return{type:"SET_SUBJECT",payload:e}},y=function(e){return{type:"SET_MESSAGE",payload:e}},g=function(e){return{type:"ADD_FILES",payload:e}},M=function(e){var t=Object(n.useState)(""),a=Object(u.a)(t,2),r=a[0],i=a[1],l=Object(f.c)().getState().form,_=Object(f.c)(),d=function(e){e.preventDefault();var t=[],a=_.getState().form;if(Object(s.a)(document.querySelectorAll(".form__input--has-error")).forEach((function(e){return e.classList.remove("form__input--has-error")})),""===a.senderName&&t.push("sender_name"),""!==a.senderMail&&a.senderMail!==a.recipicientMail||t.push("sender_email"),""===a.recipicientName&&t.push("recipicient_name"),""!==a.recipicientMail&&a.recipicientMail!==a.senderMail||t.push("recipicient_email"),""===a.subject&&t.push("subject"),""===a.message&&t.push("message"),t.length>0)return t.forEach((function(e){document.querySelector('[name="'.concat(e,'"]')).classList.add("form__input--has-error")})),!1;!function(e,t){M.apply(this,arguments)}("http://localhost:3001/send",JSON.stringify({senderName:a.senderName,senderEmail:a.senderMail,recipicientName:a.recipicientName,recipicientEmail:a.recipicientMail,subject:a.subject,message:a.message,files:a.files}))};function M(){return(M=Object(m.a)(o.a.mark((function e(t,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:a});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(e){fetch("http://localhost:3001/mailerAPI").then((function(e){return e.text()})).then((function(e){return i(e)}))}),[r]),c.a.createElement("form",{method:"POST",action:"send",className:"form",onSubmit:function(e){return d(e)}},c.a.createElement("div",{className:"form__row"},c.a.createElement("div",{className:"form__block"},c.a.createElement("h2",{className:"form__text--header"},"From:"),c.a.createElement(p,{id:"sender_name",value:l.senderName,action:j,type:"text",placeholder:"Name"}),c.a.createElement(p,{id:"sender_email",value:l.senderMail,action:O,type:"email",placeholder:"Email"})),c.a.createElement("div",{className:"form__block"},c.a.createElement("h2",{className:"form__text--header"},"To:"),c.a.createElement(p,{id:"recipicient_name",value:l.recipicientName,action:N,type:"text",placeholder:"Name"}),c.a.createElement(p,{id:"recipicient_email",value:l.recipicientMail,action:S,type:"email",placeholder:"Email"}))),c.a.createElement("div",{className:"form__row"},c.a.createElement(p,{id:"subject",value:l.subject,action:v,type:"text",placeholder:"Subject"})),c.a.createElement("div",{className:"form__row"},c.a.createElement(E,{id:"message",value:l.message,action:y,placeholder:"Message"})),c.a.createElement("div",{className:"form__row"},c.a.createElement(b,{id:"attachments",maxSize:"5",maxCount:"5",formats:[".doc",".docx",".pdf"],value:[],action:g}),c.a.createElement(h,{value:"Send"})))},x=function(e){return c.a.createElement("header",{className:"header"},c.a.createElement("h1",{className:"header__text"},"Email Sender"))};var T=function(){return c.a.createElement("main",null,c.a.createElement(x,null),c.a.createElement(M,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(29);var I=a(7),w=a(1),C=Object(I.b)((function(e,t){var a=t.type,n=t.payload;switch(a){case"SET_SENDER_NAME":return Object(w.a)(Object(w.a)({},e),{},{form:Object(w.a)(Object(w.a)({},e.form),{},{senderName:n})});case"SET_SENDER_EMAIL":return Object(w.a)(Object(w.a)({},e),{},{form:Object(w.a)(Object(w.a)({},e.form),{},{senderMail:n})});case"SET_RECIPICIENT_NAME":return Object(w.a)(Object(w.a)({},e),{},{form:Object(w.a)(Object(w.a)({},e.form),{},{recipicientName:n})});case"SET_RECIPICIENT_EMAIL":return Object(w.a)(Object(w.a)({},e),{},{form:Object(w.a)(Object(w.a)({},e.form),{},{recipicientMail:n})});case"SET_SUBJECT":return Object(w.a)(Object(w.a)({},e),{},{form:Object(w.a)(Object(w.a)({},e.form),{},{subject:n})});case"SET_MESSAGE":return Object(w.a)(Object(w.a)({},e),{},{form:Object(w.a)(Object(w.a)({},e.form),{},{message:n})});case"ADD_FILES":return Object(w.a)(Object(w.a)({},e),{},{form:Object(w.a)(Object(w.a)({},e.form),{},{files:n})});default:return Object(w.a)({},e)}}),{form:{senderName:"",senderMail:"",recipicientName:"",recipicientMail:"",subject:"",message:"",files:[]}},window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(f.a,{store:C},c.a.createElement(T,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[17,1,2]]]);
//# sourceMappingURL=main.dc8a2a5e.chunk.js.map