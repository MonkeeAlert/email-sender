(this["webpackJsonpemail-sender"]=this["webpackJsonpemail-sender"]||[]).push([[0],{15:function(e,a,t){e.exports=t.p+"static/media/clip.86d1bbc5.svg"},18:function(e,a,t){e.exports=t(31)},30:function(e,a,t){},31:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(6),i=t.n(c),l=t(9),o=t.n(l),m=t(13),s=t(17),u=t(3),f=t(2),p=function(e){var a=e.value,t=e.id,c=e.type,i=e.action,l=e.placeholder,o=Object(n.useState)(a),m=Object(u.a)(o,2),s=m[0],p=m[1],d=Object(n.useState)(!1),E=Object(u.a)(d,2),_=E[0],b=E[1],h=Object(f.b)();return r.a.createElement("label",{htmlFor:t,className:"form__label"},r.a.createElement("input",{id:t,name:t,type:c,value:s,className:"form__input ".concat(_?"form__input--active":""," ").concat(""!==s?"form__input--not-empty":""),onFocus:function(e){return b(!1)},onBlur:function(e){return b(!1)},onChange:function(e){return function(e){h(i(e.target.value)),p(e.target.value)}(e)}}),r.a.createElement("span",{className:"form__input-placeholder"},l),r.a.createElement("span",{className:"form__input-border"}))},d=function(e){var a=e.value,t=e.id,c=e.placeholder,i=e.action,l=Object(n.useState)(a),o=Object(u.a)(l,2),m=o[0],s=o[1],p=Object(n.useState)(!1),d=Object(u.a)(p,2),E=d[0],_=d[1],b=Object(f.b)();return r.a.createElement("label",{htmlFor:t,className:"form__label"},r.a.createElement("textarea",{id:t,name:t,className:"form__textarea ".concat(E?"form__textarea--active":""," ").concat(""!==m?"form__textarea--not-empty":""),onFocus:function(e){return _(!1)},onBlur:function(e){return _(!1)},onChange:function(e){return function(e){b(i(e.target.value)),s(e.target.value)}(e)},rows:"8","data-test":"textarea"}),r.a.createElement("span",{className:"form__textarea-placeholder"},c),r.a.createElement("span",{className:"form__textarea-border"}))},E=t(15),_=t.n(E),b=function(e){var a=e.formats,t=e.maxSize,c=e.maxCount,i=e.value,l=e.action,o=Object(n.useState)(i),m=Object(u.a)(o,2),s=m[0],p=m[1],d=Object(n.useState)(""),E=Object(u.a)(d,2),b=E[0],h=E[1],j=t*Math.pow(1024,2),O=c,N=Object(f.b)();return r.a.createElement("div",{className:"form__attach-wrapper"},r.a.createElement("label",{className:"form__label--file"},r.a.createElement("input",{id:"file",name:"file",type:"file",className:"form__file","data-max-size":j,"data-max-count":O,accept:a.join(","),multiple:!0,onChange:function(e){return function(e){var a=!1,n=[].map.call(e.target.files,(function(e){return{name:e.name,size:e.size,type:e.type}}));n.length>O&&(a=!0,h("Max amount of files is ".concat(O))),n.forEach((function(e){e.size>j&&(a=!0,h("File ".concat(e.name.slice(0,10)+"..."," is larger ").concat(t,"mb")))})),a||(h(),N(l(n)),p(n))}(e)}}),r.a.createElement("img",{src:_.a,alt:"clip",className:"form__file-img"}),r.a.createElement("span",{className:"form__file-text"},s.length>0?"".concat(s.length," file(s)"):"Attach file")),s.length>0?r.a.createElement("span",{className:"form__file-clear",onClick:function(e){return document.getElementById("file").value="",N(l([])),void p([])}},"\xd7"):"",b?r.a.createElement("span",{className:"form__file-err"},b):"")},h=function(e){var a=e.value;return r.a.createElement("input",{id:"submit",name:"submit",type:"submit",className:"form__submit",value:a})},j=function(e){return{type:"SET_SENDER_NAME",payload:e}},O=function(e){return{type:"SET_SENDER_EMAIL",payload:e}},N=function(e){return{type:"SET_RECIPICIENT_NAME",payload:e}},v=function(e){return{type:"SET_RECIPICIENT_EMAIL",payload:e}},S=function(e){return{type:"SET_SUBJECT",payload:e}},y=function(e){return{type:"SET_MESSAGE",payload:e}},g=function(e){return{type:"ADD_FILES",payload:e}},M=function(e){var a=Object(n.useState)(""),t=Object(u.a)(a,2),c=t[0],i=t[1],l=Object(f.c)().getState().form,E=Object(f.c)(),_=function(e){e.preventDefault();var a=[],t=E.getState().form;if(Object(s.a)(document.querySelectorAll(".form__input--has-error")).forEach((function(e){return e.classList.remove("form__input--has-error")})),""===t.senderName&&a.push("sender_name"),""!==t.senderMail&&t.senderMail!==t.recipicientMail||a.push("sender_email"),""===t.recipicientName&&a.push("recipicient_name"),""!==t.recipicientMail&&t.recipicientMail!==t.senderMail||a.push("recipicient_email"),""===t.subject&&a.push("subject"),""===t.message&&a.push("message"),a.length>0)return a.forEach((function(e){document.querySelector('[name="'.concat(e,'"]')).classList.add("form__input--has-error")})),!1;!function(e,a){M.apply(this,arguments)}("http://localhost:3001/send",JSON.stringify({senderName:t.senderName,senderEmail:t.senderMail,recipicientName:t.recipicientName,recipicientEmail:t.recipicientMail,subject:t.subject,message:t.message,files:t.files}))};function M(){return(M=Object(m.a)(o.a.mark((function e(a,t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:t});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(e){fetch("http://localhost:3001/mailerAPI").then((function(e){return e.text()})).then((function(e){return i(e)}))}),[c]),r.a.createElement("form",{method:"POST",action:"send",className:"form",onSubmit:function(e){return _(e)},id:"email-form"},r.a.createElement("div",{className:"form__row"},r.a.createElement("div",{className:"form__block"},r.a.createElement("h2",{className:"form__text--header"},r.a.createElement("span",null,"From")),r.a.createElement(p,{id:"sender_name",value:l.senderName,action:j,type:"text",placeholder:"Name"}),r.a.createElement(p,{id:"sender_email",value:l.senderMail,action:O,type:"email",placeholder:"Email"})),r.a.createElement("div",{className:"form__block"},r.a.createElement("h2",{className:"form__text--header"},r.a.createElement("span",null,"To")),r.a.createElement(p,{id:"recipicient_name",value:l.recipicientName,action:N,type:"text",placeholder:"Name"}),r.a.createElement(p,{id:"recipicient_email",value:l.recipicientMail,action:v,type:"email",placeholder:"Email"}))),r.a.createElement("div",{className:"form__row"},r.a.createElement(p,{id:"subject",value:l.subject,action:S,type:"text",placeholder:"Subject"})),r.a.createElement("div",{className:"form__row"},r.a.createElement(d,{id:"message",value:l.message,action:y,placeholder:"Message"})),r.a.createElement("div",{className:"form__row"},r.a.createElement(b,{id:"attachments",maxSize:5,maxCount:5,formats:[".doc",".docx",".pdf"],value:[],action:g}),r.a.createElement(h,{value:"Send"})))},x=function(e){var a=e.value;return r.a.createElement("header",{"data-test":"header",className:"header"},r.a.createElement("h1",{className:"header__text"},a))};var T=function(){return r.a.createElement("main",null,r.a.createElement(x,{value:"Email Sender"}),r.a.createElement(M,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(30);var I=t(5),w=t(1),C=[t(16).a],A=Object(I.c)((function(e,a){var t=a.type,n=a.payload;switch(t){case"SET_SENDER_NAME":return Object(w.a)(Object(w.a)({},e),{},{form:Object(w.a)(Object(w.a)({},e.form),{},{senderName:n})});case"SET_SENDER_EMAIL":return Object(w.a)(Object(w.a)({},e),{},{form:Object(w.a)(Object(w.a)({},e.form),{},{senderMail:n})});case"SET_RECIPICIENT_NAME":return Object(w.a)(Object(w.a)({},e),{},{form:Object(w.a)(Object(w.a)({},e.form),{},{recipicientName:n})});case"SET_RECIPICIENT_EMAIL":return Object(w.a)(Object(w.a)({},e),{},{form:Object(w.a)(Object(w.a)({},e.form),{},{recipicientMail:n})});case"SET_SUBJECT":return Object(w.a)(Object(w.a)({},e),{},{form:Object(w.a)(Object(w.a)({},e.form),{},{subject:n})});case"SET_MESSAGE":return Object(w.a)(Object(w.a)({},e),{},{form:Object(w.a)(Object(w.a)({},e.form),{},{message:n})});case"ADD_FILES":return Object(w.a)(Object(w.a)({},e),{},{form:Object(w.a)(Object(w.a)({},e.form),{},{files:n})});default:return Object(w.a)({},e)}}),{form:{senderName:"",senderMail:"",recipicientName:"",recipicientMail:"",subject:"",message:"",files:[]}},I.a.apply(void 0,C));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(f.a,{store:A},r.a.createElement(T,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.b2896341.chunk.js.map